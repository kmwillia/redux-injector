'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof(typeof Symbol==='function'?Symbol.iterator:'@@iterator')==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==(typeof Symbol==='function'?Symbol.prototype:'@@prototype')?"symbol":typeof obj;};exports.createInjectStore=createInjectStore;exports.injectReducer=injectReducer;var _redux=require('redux');var _lodash=require('lodash');var store={};var combine=_redux.combineReducers;function combineReducersRecurse(reducers){if(typeof reducers==='function'){return reducers;}if((typeof reducers==='undefined'?'undefined':_typeof(reducers))==='object'){var combinedReducers={};for(var _iterator=Object.keys(reducers),_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var _ref;if(_isArray){if(_i>=_iterator.length)break;_ref=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref=_i.value;}var key=_ref;combinedReducers[key]=combineReducersRecurse(reducers[key]);}return combine(combinedReducers);}throw new Error({message:'Invalid item in reducer tree',item:reducers});}function createInjectStore(initialReducers){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}if(_typeof(args[args.length-1])==='object'){var overrides=args.pop();if(overrides.hasOwnProperty('combineReducers')&&typeof overrides.combineReducers==='function'){combine=overrides.combineReducers;}}store=_redux.createStore.apply(undefined,[combineReducersRecurse(initialReducers)].concat(args));store.injectedReducers=initialReducers;return store;}function injectReducer(key,reducer){var force=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if((0,_lodash.has)(store.injectedReducers,key)||force)return;(0,_lodash.set)(store.injectedReducers,key,reducer);store.replaceReducer(combineReducersRecurse(store.injectedReducers));}